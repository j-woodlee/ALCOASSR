{"version":3,"sources":["../../../../../lib/xlsx/xform/simple/string-xform.js"],"names":["utils","require","BaseXform","StringXform","module","exports","options","tag","attr","attrs","inherits","render","xmlStream","model","undefined","openNode","addAttributes","addAttribute","writeText","closeNode","parseOpen","node","name","attributes","text","parseText","push","parseClose","join"],"mappings":"AAAA;;AAEA,IAAMA,KAAK,GAAGC,OAAO,CAAC,sBAAD,CAArB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,eAAD,CAAzB;;AAEA,IAAME,WAAW,GAAIC,MAAM,CAACC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AACtD,OAAKC,GAAL,GAAWD,OAAO,CAACC,GAAnB;AACA,OAAKC,IAAL,GAAYF,OAAO,CAACE,IAApB;AACA,OAAKC,KAAL,GAAaH,OAAO,CAACG,KAArB;AACD,CAJD;;AAMAT,KAAK,CAACU,QAAN,CAAeP,WAAf,EAA4BD,SAA5B,EAAuC;AACrCS,EAAAA,MADqC,kBAC9BC,SAD8B,EACnBC,KADmB,EACZ;AACvB,QAAIA,KAAK,KAAKC,SAAd,EAAyB;AACvBF,MAAAA,SAAS,CAACG,QAAV,CAAmB,KAAKR,GAAxB;;AACA,UAAI,KAAKE,KAAT,EAAgB;AACdG,QAAAA,SAAS,CAACI,aAAV,CAAwB,KAAKP,KAA7B;AACD;;AACD,UAAI,KAAKD,IAAT,EAAe;AACbI,QAAAA,SAAS,CAACK,YAAV,CAAuB,KAAKT,IAA5B,EAAkCK,KAAlC;AACD,OAFD,MAEO;AACLD,QAAAA,SAAS,CAACM,SAAV,CAAoBL,KAApB;AACD;;AACDD,MAAAA,SAAS,CAACO,SAAV;AACD;AACF,GAdoC;AAgBrCC,EAAAA,SAhBqC,qBAgB3BC,IAhB2B,EAgBrB;AACd,QAAIA,IAAI,CAACC,IAAL,KAAc,KAAKf,GAAvB,EAA4B;AAC1B,UAAI,KAAKC,IAAT,EAAe;AACb,aAAKK,KAAL,GAAaQ,IAAI,CAACE,UAAL,CAAgB,KAAKf,IAArB,CAAb;AACD,OAFD,MAEO;AACL,aAAKgB,IAAL,GAAY,EAAZ;AACD;AACF;AACF,GAxBoC;AAyBrCC,EAAAA,SAzBqC,qBAyB3BD,IAzB2B,EAyBrB;AACd,QAAI,CAAC,KAAKhB,IAAV,EAAgB;AACd,WAAKgB,IAAL,CAAUE,IAAV,CAAeF,IAAf;AACD;AACF,GA7BoC;AA8BrCG,EAAAA,UA9BqC,wBA8BxB;AACX,QAAI,CAAC,KAAKnB,IAAV,EAAgB;AACd,WAAKK,KAAL,GAAa,KAAKW,IAAL,CAAUI,IAAV,CAAe,EAAf,CAAb;AACD;;AACD,WAAO,KAAP;AACD;AAnCoC,CAAvC","sourcesContent":["'use strict';\n\nconst utils = require('../../../utils/utils');\nconst BaseXform = require('../base-xform');\n\nconst StringXform = (module.exports = function(options) {\n  this.tag = options.tag;\n  this.attr = options.attr;\n  this.attrs = options.attrs;\n});\n\nutils.inherits(StringXform, BaseXform, {\n  render(xmlStream, model) {\n    if (model !== undefined) {\n      xmlStream.openNode(this.tag);\n      if (this.attrs) {\n        xmlStream.addAttributes(this.attrs);\n      }\n      if (this.attr) {\n        xmlStream.addAttribute(this.attr, model);\n      } else {\n        xmlStream.writeText(model);\n      }\n      xmlStream.closeNode();\n    }\n  },\n\n  parseOpen(node) {\n    if (node.name === this.tag) {\n      if (this.attr) {\n        this.model = node.attributes[this.attr];\n      } else {\n        this.text = [];\n      }\n    }\n  },\n  parseText(text) {\n    if (!this.attr) {\n      this.text.push(text);\n    }\n  },\n  parseClose() {\n    if (!this.attr) {\n      this.model = this.text.join('');\n    }\n    return false;\n  },\n});\n"],"file":"string-xform.js"}